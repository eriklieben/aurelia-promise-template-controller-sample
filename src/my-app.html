<import from="./skeleton-loader.html"></import>

<article>
    <main> 
        <h1>Aurelia loading skeleton with new promise template controller</h1> 
        <p>skeleton loading components provide a low fidelity representation of the user interface (UI) before content appears on the page. It improves load times perceived by merchants.</p>
        <p>
            <a href="https://github.com/eriklieben/aurelia-promise-template-controller-sample" external>Github repo</a>
        </p>
    </main>

    <aside>

        <h2>List of people that takes 2s to load</h2>
        <p>Show the loading skeleton when loading time is more than 300ms</p>
        <skeleton-loader promise-value.bind="profileDataPromise" type="profile">      
            <ul au-slot>
                <li class="row profile loaded" repeat.for="person of items">
                    <img class="avatar" src.bind="person.profileImageUrl" />
                    <div class="line">
                        <strong>${person.name}</strong>
                    </div>
                    <div class="line">
                        <span>${person.description}</span>
                    </div>
                </li>
            </ul>
        </skeleton-loader>

        <h2>List of people that takes 200ms to load</h2>
        <p>Only show the loading skelethon when loading data takes more than 300ms; don't show a flash of the skeleton before that</p>
        <skeleton-loader promise-value.bind="profileDataQuickPromise" type="profile">       
            <template repeat.for="person of items" au-slot>
                <div class="row profile loaded">
                    <img class="avatar" src.bind="person.profileImageUrl" />
                    <div class="line">
                        <strong>${person.name}</strong>
                    </div>
                    <div class="line">
                        <span>${person.description}</span>
                    </div>
                </div>
            </template>
        </skeleton-loader>

        <h2>List of people that takes 2s to load with custom skeleton template</h2>
        <p>Override the skeleton template with a custom one</p>
        <skeleton-loader promise-value.bind="profileDataPromise">
            <template au-slot="skeleton">
                <div class="row profile pending">
                    <div class="avatar red"></div>
                    <div class="line"></div>
                </div>
            </template>

            <template repeat.for="person of items" au-slot>
                <div class="row profile loaded">
                    <img class="avatar" src.bind="person.profileImageUrl" />
                    <div class="line">
                        <strong>${person.name}</strong>
                    </div>
                    <div class="line">
                        <span>${person.description}</span>
                    </div>
                </div>
            </template>
        </skeleton-loader>

    </aside>
</article>

